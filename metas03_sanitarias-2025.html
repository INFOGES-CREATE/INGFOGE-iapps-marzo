<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>INFOGES Curicó - Metas Sanitarias 2025</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;400;500;600;700&family=Poppins:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css"
    />
    <style>
      :root {
        --primary-color: #1a5d1a;
        --secondary-color: #1e8449;
        --light-bg: #f1f8e9;
        --dark-text: #2c3e50;
        --light-text: #ffffff;
        --accent-color: #27ae60;
        --accent-hover: #219653;
        --danger-color: #e74c3c;
        --warning-color: #f39c12;
        --info-color: #3498db;
      }

      * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
      }

      body {
        font-family: "Poppins", sans-serif;
        background-color: #f5f7fa;
        color: var(--dark-text);
        line-height: 1.6;
        overflow-x: hidden;
      }

      .pattern-bg {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: var(--light-bg);
        opacity: 0.4;
        z-index: -1;
        pointer-events: none;
      }

      header {
        background-color: var(--primary-color);
        padding: 20px 0;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        position: relative;
      }

      .header-pattern {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background: linear-gradient(
            45deg,
            var(--primary-color) 25%,
            transparent 25%,
            transparent 75%,
            var(--primary-color) 75%,
            var(--primary-color)
          ),
          linear-gradient(
            45deg,
            var(--primary-color) 25%,
            transparent 25%,
            transparent 75%,
            var(--primary-color) 75%,
            var(--primary-color)
          );
        background-size: 60px 60px;
        background-position: 0 0, 30px 30px;
        opacity: 0.1;
      }

      .container {
        width: 90%;
        max-width: 1200px;
        margin: 0 auto;
      }

      .header-content {
        display: flex;
        justify-content: space-between;
        align-items: center;
      }

      .logo-container {
        display: flex;
        align-items: center;
      }

      .logo {
        height: 70px;
        margin-right: 20px;
      }

      .logo-text {
        color: var(--light-text);
        font-family: "Montserrat", sans-serif;
      }

      .logo-text h1 {
        font-size: 24px;
        font-weight: 700;
        letter-spacing: 1px;
        margin-bottom: 5px;
      }

      .logo-text p {
        font-size: 14px;
        font-weight: 300;
        opacity: 0.8;
      }

      .main-content {
        margin: 50px 0;
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .coming-soon {
        text-align: center;
        margin-bottom: 50px;
        width: 100%;
      }

      .coming-soon h2 {
        font-size: 36px;
        font-weight: 700;
        color: var(--primary-color);
        margin-bottom: 20px;
        text-transform: uppercase;
        letter-spacing: 2px;
      }

      .coming-soon p {
        font-size: 18px;
        max-width: 700px;
        margin: 0 auto;
        color: var(--dark-text);
        margin-bottom: 30px;
      }

      .timer {
        display: flex;
        justify-content: center;
        margin-bottom: 30px;
        gap: 20px;
        flex-wrap: wrap;
      }

      .timer-item {
        background-color: white;
        padding: 15px;
        width: 100px;
        border-radius: 10px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        text-align: center;
        position: relative;
        overflow: hidden;
        transition: transform 0.3s ease;
      }

      .timer-item:hover {
        transform: translateY(-5px);
      }

      .timer-item::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 5px;
        background-color: var(--secondary-color);
      }

      .timer-item span {
        display: block;
      }

      .timer-item .number {
        font-size: 32px;
        font-weight: 700;
        color: var(--primary-color);
      }

      .timer-item .label {
        font-size: 14px;
        color: var(--dark-text);
        text-transform: uppercase;
      }

      /* Tabs para herramientas de entretenimiento */
      .entertainment-tabs {
        width: 100%;
        max-width: 800px;
        margin-bottom: 50px;
      }

      .tabs-nav {
        display: flex;
        background-color: white;
        border-radius: 10px 10px 0 0;
        overflow: hidden;
        box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
      }

      .tab-btn {
        flex: 1;
        padding: 15px;
        text-align: center;
        background-color: white;
        color: var(--dark-text);
        cursor: pointer;
        font-weight: 600;
        transition: all 0.3s;
        border: none;
        border-bottom: 3px solid transparent;
      }

      .tab-btn.active {
        border-bottom: 3px solid var(--primary-color);
        color: var(--primary-color);
      }

      .tab-btn:hover:not(.active) {
        background-color: #f9f9f9;
        color: var(--secondary-color);
      }

      .tab-btn i {
        margin-right: 8px;
      }

      .tab-content {
        background-color: white;
        padding: 30px;
        border-radius: 0 0 10px 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        min-height: 400px;
      }

      .tab-pane {
        display: none;
      }

      .tab-pane.active {
        display: block;
        animation: fadeIn 0.5s;
      }

      @keyframes fadeIn {
        from {
          opacity: 0;
        }
        to {
          opacity: 1;
        }
      }

      /* Juego de Memoria */
      .tab-pane h3 {
        font-size: 24px;
        margin-bottom: 20px;
        color: var(--primary-color);
        text-align: center;
      }

      .tab-pane p {
        margin-bottom: 20px;
        font-size: 16px;
        text-align: center;
      }

      #memory-game {
        display: grid;
        grid-template-columns: repeat(4, 1fr);
        gap: 10px;
        margin-top: 20px;
      }

      .memory-card {
        aspect-ratio: 1 / 1;
        background-color: var(--primary-color);
        border-radius: 5px;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        transition: transform 0.3s, background-color 0.3s;
        transform-style: preserve-3d;
        position: relative;
      }

      .memory-card:hover {
        transform: scale(0.97);
      }

      .memory-card.flipped {
        transform: rotateY(180deg);
        background-color: white;
      }

      .memory-card .front,
      .memory-card .back {
        position: absolute;
        width: 100%;
        height: 100%;
        backface-visibility: hidden;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 5px;
      }

      .memory-card .front {
        background-color: var(--primary-color);
        transform: rotateY(0deg);
      }

      .memory-card .back {
        background-color: white;
        transform: rotateY(180deg);
        border: 2px solid var(--primary-color);
      }

      .memory-card .back i {
        font-size: 36px;
        color: var(--primary-color);
      }

      #game-message {
        margin-top: 20px;
        font-weight: 600;
        color: var(--accent-color);
        height: 24px;
        text-align: center;
      }

      /* Trivia de Salud */
      #trivia-container {
        max-width: 600px;
        margin: 0 auto;
      }

      .trivia-question {
        font-size: 18px;
        font-weight: 600;
        margin-bottom: 20px;
        text-align: center;
      }

      .trivia-options {
        display: flex;
        flex-direction: column;
        gap: 10px;
        margin-bottom: 20px;
      }

      .trivia-option {
        padding: 12px 15px;
        border: 2px solid #e1e1e1;
        border-radius: 5px;
        cursor: pointer;
        transition: all 0.3s;
        font-size: 16px;
        text-align: left;
        background-color: white;
      }

      .trivia-option:hover {
        border-color: var(--primary-color);
        background-color: #f9f9f9;
      }

      .trivia-option.correct {
        background-color: rgba(46, 204, 113, 0.2);
        border-color: #2ecc71;
      }

      .trivia-option.incorrect {
        background-color: rgba(231, 76, 60, 0.2);
        border-color: #e74c3c;
      }

      .trivia-feedback {
        margin-top: 20px;
        font-weight: 600;
        text-align: center;
        min-height: 24px;
      }

      .trivia-explanation {
        margin-top: 15px;
        padding: 15px;
        background-color: #f8f9fa;
        border-radius: 5px;
        border-left: 4px solid var(--info-color);
        display: none;
      }

      .trivia-score {
        text-align: center;
        font-size: 18px;
        font-weight: 600;
        margin: 20px 0;
        color: var(--primary-color);
      }

      /* Rompecabezas Deslizante */
      #puzzle-container {
        width: 300px;
        height: 300px;
        margin: 0 auto;
        position: relative;
        border: 3px solid var(--primary-color);
        border-radius: 5px;
        overflow: hidden;
      }

      .puzzle-tile {
        position: absolute;
        width: 100px;
        height: 100px;
        display: flex;
        justify-content: center;
        align-items: center;
        font-size: 24px;
        font-weight: 700;
        color: var(--dark-text);
        box-sizing: border-box;
        transition: all 0.2s ease-in-out;
        cursor: pointer;
        user-select: none;
      }

      .puzzle-tile:not(.empty-tile) {
        background-color: var(--light-bg);
        border: 1px solid var(--primary-color);
      }

      .puzzle-tile.empty-tile {
        background-color: transparent;
        border: none;
      }

      #puzzle-moves {
        margin-top: 20px;
        text-align: center;
        font-weight: 600;
      }

      #puzzle-message {
        margin-top: 15px;
        text-align: center;
        font-weight: 600;
        color: var(--accent-color);
        min-height: 24px;
      }

      .game-buttons {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
      }

      .game-btn {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 10px 20px;
        border-radius: 5px;
        cursor: pointer;
        font-weight: 600;
        transition: background-color 0.3s;
      }

      .game-btn:hover {
        background-color: var(--secondary-color);
      }

      /* Dibujo Libre */
      #canvas-container {
        width: 100%;
        max-width: 600px;
        margin: 0 auto;
      }

      #drawing-canvas {
        width: 100%;
        height: 300px;
        border: 2px solid var(--primary-color);
        border-radius: 5px;
        cursor: crosshair;
        background-color: white;
      }

      .drawing-controls {
        display: flex;
        justify-content: center;
        align-items: center;
        flex-wrap: wrap;
        gap: 10px;
        margin-top: 15px;
      }

      .color-option {
        width: 30px;
        height: 30px;
        border-radius: 50%;
        cursor: pointer;
        border: 2px solid transparent;
        transition: transform 0.3s;
      }

      .color-option.active {
        border-color: #333;
        transform: scale(1.1);
      }

      .color-option:hover {
        transform: scale(1.1);
      }

      .color-red {
        background-color: #e74c3c;
      }
      .color-blue {
        background-color: #3498db;
      }
      .color-green {
        background-color: #2ecc71;
      }
      .color-yellow {
        background-color: #f1c40f;
      }
      .color-purple {
        background-color: #9b59b6;
      }
      .color-black {
        background-color: #222;
      }

      .brush-size {
        margin: 0 15px;
      }

      #brush-slider {
        width: 100px;
      }

      /* Newsletter */
      .newsletter {
        background-color: white;
        padding: 30px;
        border-radius: 10px;
        box-shadow: 0 4px 10px rgba(0, 0, 0, 0.1);
        width: 100%;
        max-width: 600px;
        text-align: center;
        position: relative;
        overflow: hidden;
        margin-bottom: 50px;
      }

      .newsletter::before {
        content: "";
        position: absolute;
        top: 0;
        left: 0;
        width: 5px;
        height: 100%;
        background-color: var(--accent-color);
      }

      .newsletter h3 {
        font-size: 24px;
        margin-bottom: 20px;
        color: var(--primary-color);
      }

      .newsletter p {
        margin-bottom: 20px;
        font-size: 16px;
      }

      .form-group {
        display: flex;
        margin-bottom: 15px;
      }

      .form-group input {
        flex: 1;
        padding: 12px 15px;
        border: 1px solid #e1e1e1;
        border-radius: 5px 0 0 5px;
        font-size: 16px;
        outline: none;
        transition: border-color 0.3s;
      }

      .form-group input:focus {
        border-color: var(--primary-color);
      }

      .form-group button {
        background-color: var(--primary-color);
        color: white;
        border: none;
        padding: 0 20px;
        border-radius: 0 5px 5px 0;
        cursor: pointer;
        transition: background-color 0.3s;
        font-weight: 600;
      }

      .form-group button:hover {
        background-color: var(--secondary-color);
      }

      .privacy {
        font-size: 12px;
        color: #777;
      }

      .social-links {
        display: flex;
        justify-content: center;
        gap: 15px;
        margin-top: 20px;
      }

      .social-links a {
        display: flex;
        justify-content: center;
        align-items: center;
        width: 40px;
        height: 40px;
        background-color: var(--primary-color);
        color: white;
        border-radius: 50%;
        transition: background-color 0.3s, transform 0.3s;
      }

      .social-links a:hover {
        background-color: var(--secondary-color);
        transform: translateY(-3px);
      }

      /* Notificaciones Toast */
      .toast-container {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 9999;
      }

      .toast {
        background-color: white;
        color: var(--dark-text);
        padding: 12px 20px;
        border-radius: 5px;
        box-shadow: 0 3px 15px rgba(0, 0, 0, 0.2);
        margin-bottom: 10px;
        display: flex;
        align-items: center;
        transform: translateX(150%);
        transition: transform 0.3s;
        max-width: 300px;
      }

      .toast.show {
        transform: translateX(0);
      }

      .toast-icon {
        margin-right: 10px;
        font-size: 18px;
      }

      .toast-success .toast-icon {
        color: var(--accent-color);
      }

      .toast-error .toast-icon {
        color: var(--danger-color);
      }

      .toast-info .toast-icon {
        color: var(--info-color);
      }

      .toast-close {
        margin-left: auto;
        background: none;
        border: none;
        color: #999;
        cursor: pointer;
        font-size: 16px;
      }

      /* Footer */
      footer {
        background-color: var(--primary-color);
        color: white;
        padding: 30px 0;
        text-align: center;
      }

      .footer-content {
        display: flex;
        flex-direction: column;
        align-items: center;
      }

      .footer-text {
        margin-bottom: 20px;
        max-width: 600px;
      }

      .footer-text p {
        margin-bottom: 10px;
        font-size: 14px;
        opacity: 0.8;
      }

      .footer-links {
        display: flex;
        gap: 20px;
        margin-bottom: 20px;
        flex-wrap: wrap;
        justify-content: center;
      }

      .footer-links a {
        color: white;
        text-decoration: none;
        font-size: 14px;
        transition: color 0.3s;
      }

      .footer-links a:hover {
        color: var(--light-bg);
        text-decoration: underline;
      }

      .copyright {
        font-size: 12px;
        opacity: 0.6;
      }

      /* Estilos de carga */
      .loader {
        position: fixed;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        background-color: rgba(255, 255, 255, 0.9);
        display: flex;
        justify-content: center;
        align-items: center;
        z-index: 9999;
        opacity: 1;
        transition: opacity 0.5s, visibility 0.5s;
      }

      .loader-hidden {
        opacity: 0;
        visibility: hidden;
      }

      .loader-spinner {
        width: 50px;
        height: 50px;
        border: 5px solid #f3f3f3;
        border-top: 5px solid var(--primary-color);
        border-radius: 50%;
        animation: spin 1s linear infinite;
      }

      @keyframes spin {
        0% {
          transform: rotate(0deg);
        }
        100% {
          transform: rotate(360deg);
        }
      }

      /* Botón para ir arriba */
      .back-to-top {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 40px;
        height: 40px;
        background-color: var(--primary-color);
        color: white;
        border-radius: 50%;
        display: flex;
        justify-content: center;
        align-items: center;
        cursor: pointer;
        opacity: 0;
        transform: translateY(20px);
        transition: opacity 0.3s, transform 0.3s;
        z-index: 999;
      }

      .back-to-top.visible {
        opacity: 1;
        transform: translateY(0);
      }

      .back-to-top:hover {
        background-color: var(--secondary-color);
      }

      /* Media Queries mejorados */
      @media (max-width: 992px) {
        .logo-text h1 {
          font-size: 20px;
        }

        .coming-soon h2 {
          font-size: 30px;
        }

        .coming-soon p {
          font-size: 16px;
        }

        .tabs-nav {
          flex-wrap: wrap;
        }

        .tab-btn {
          padding: 12px 10px;
          font-size: 14px;
        }
      }

      @media (max-width: 768px) {
        .header-content {
          flex-direction: column;
          text-align: center;
        }

        .logo-container {
          margin-bottom: 20px;
        }

        .logo {
          height: 60px;
        }

        .timer {
          gap: 10px;
        }

        .timer-item {
          width: 90px;
        }

        .form-group {
          flex-direction: column;
        }

        .form-group input {
          border-radius: 5px;
          margin-bottom: 10px;
        }

        .form-group button {
          border-radius: 5px;
          padding: 10px;
        }

        #memory-game {
          grid-template-columns: repeat(3, 1fr);
        }

        .tab-btn {
          padding: 10px 5px;
          font-size: 12px;
        }

        .tab-btn i {
          font-size: 14px;
          margin-right: 3px;
        }

        .tab-content {
          padding: 20px 15px;
        }

        #puzzle-container {
          width: 240px;
          height: 240px;
        }

        .puzzle-tile {
          width: 80px;
          height: 80px;
          font-size: 20px;
        }
      }

      @media (max-width: 576px) {
        .logo-container {
          flex-direction: column;
        }

        .logo {
          margin-right: 0;
          margin-bottom: 10px;
        }

        .timer-item {
          width: 70px;
          padding: 10px;
        }

        .timer-item .number {
          font-size: 24px;
        }

        .timer-item .label {
          font-size: 12px;
        }

        .coming-soon h2 {
          font-size: 24px;
        }

        #memory-game {
          grid-template-columns: repeat(2, 1fr);
        }

        .footer-links {
          flex-direction: column;
          gap: 10px;
        }

        .tab-btn {
          flex: initial;
          width: 50%;
        }

        .tabs-nav {
          flex-wrap: wrap;
        }

        .drawing-controls {
          gap: 5px;
        }

        .color-option {
          width: 25px;
          height: 25px;
        }

        #puzzle-container {
          width: 210px;
          height: 210px;
        }

        .puzzle-tile {
          width: 70px;
          height: 70px;
          font-size: 18px;
        }
      }

      @media (max-width: 375px) {
        .timer-item {
          width: 60px;
          padding: 8px;
        }

        .timer-item .number {
          font-size: 20px;
        }

        .game-buttons {
          flex-direction: column;
          gap: 10px;
        }

        #puzzle-container {
          width: 180px;
          height: 180px;
        }

        .puzzle-tile {
          width: 60px;
          height: 60px;
          font-size: 16px;
        }
      }

      /* Estilos base para el contenedor del botón */
      .btn-premium-container {
        margin: 20px 0;
        text-align: center;
      }

      /* Estilos para el botón premium */
      .btn-premium {
        display: inline-block;
        padding: 12px 28px;
        font-family: "Montserrat", sans-serif;
        font-size: 16px;
        font-weight: 600;
        text-transform: uppercase;
        letter-spacing: 1.2px;
        text-decoration: none;
        color: #ffffff;
        background: linear-gradient(135deg, #1a5d1a 0%, #27ae60 100%);
        border: none;
        border-radius: 50px;
        box-shadow: 0 4px 15px rgba(39, 174, 96, 0.4);
        position: relative;
        overflow: hidden;
        transition: all 0.3s ease;
        z-index: 1;
        cursor: pointer;
      }

      /* Efecto de brillo sutilmente animado */
      .btn-premium::before {
        content: "";
        position: absolute;
        top: -50%;
        left: -50%;
        width: 200%;
        height: 200%;
        background: linear-gradient(
          to right,
          rgba(255, 255, 255, 0) 0%,
          rgba(255, 255, 255, 0.3) 50%,
          rgba(255, 255, 255, 0) 100%
        );
        transform: rotate(45deg);
        z-index: -1;
        transition: all 0.5s ease;
        opacity: 0;
      }

      /* Efectos al hover */
      .btn-premium:hover {
        transform: translateY(-3px);
        box-shadow: 0 8px 25px rgba(39, 174, 96, 0.5);
        color: #ffffff;
      }

      .btn-premium:hover::before {
        opacity: 1;
        animation: shine 1.5s infinite;
      }

      /* Efectos al hacer clic */
      .btn-premium:active {
        transform: translateY(1px);
        box-shadow: 0 2px 10px rgba(39, 174, 96, 0.4);
      }

      /* Animación de brillo */
      @keyframes shine {
        0% {
          left: -50%;
        }
        100% {
          left: 150%;
        }
      }

      /* Agregar un pequeño icono */
      .btn-premium::after {
        content: "\f2f5"; /* Icono de salida de Font Awesome */
        font-family: "Font Awesome 5 Free";
        margin-left: 8px;
        font-size: 14px;
        transition: transform 0.3s ease;
        display: inline-block;
      }

      .btn-premium:hover::after {
        transform: translateX(3px);
      }

      /* Media queries para responsividad */
      @media (max-width: 768px) {
        .btn-premium {
          padding: 10px 24px;
          font-size: 14px;
        }
      }

      @media (max-width: 480px) {
        .btn-premium {
          padding: 9px 20px;
          font-size: 13px;
          letter-spacing: 1px;
        }
      }
    </style>
  </head>
  <body>
    <div class="pattern-bg"></div>

    <div class="loader">
      <div class="loader-spinner"></div>
    </div>

    <header>
      <div class="header-pattern"></div>
      <div class="container">
        <div class="header-content">
          <div class="logo-container">
            <img
              src="images/logo2.png"
              alt="INFOGES Curicó Logo"
              class="logo"
            />
            <div class="logo-text">
              <h1>INFOGES CURICÓ</h1>
              <p>Sistema de Gestión Sanitaria</p>
            </div>
            <p class="btn-premium-container">
              <a href="index.html" class="btn-premium">Salir</a>
            </p>
          </div>
        </div>
      </div>
    </header>

    <main class="container main-content">
      <section class="coming-soon">
        <h2>Metas Sanitarias 2025</h2>
        <p>
          Estamos preparando una nueva plataforma para el seguimiento de metas
          sanitarias. Nuestro sistema estará disponible próximamente para
          mejorar la gestión de indicadores de salud en la región.
        </p>

        <div class="timer">
          <div class="timer-item">
            <span class="number" id="days">00</span>
            <span class="label">Días</span>
          </div>
          <div class="timer-item">
            <span class="number" id="hours">00</span>
            <span class="label">Horas</span>
          </div>
          <div class="timer-item">
            <span class="number" id="minutes">00</span>
            <span class="label">Minutos</span>
          </div>
          <div class="timer-item">
            <span class="number" id="seconds">00</span>
            <span class="label">Segundos</span>
          </div>
        </div>
      </section>

      <section class="entertainment-tabs">
        <div class="tabs-nav">
          <button class="tab-btn active" data-tab="memory">
            <i class="fas fa-brain"></i>Memoria
          </button>
          <button class="tab-btn" data-tab="trivia">
            <i class="fas fa-question-circle"></i>Trivia
          </button>
          <button class="tab-btn" data-tab="puzzle">
            <i class="fas fa-puzzle-piece"></i>Rompecabezas
          </button>
          <button class="tab-btn" data-tab="drawing">
            <i class="fas fa-paint-brush"></i>Dibujo
          </button>
        </div>

        <div class="tab-content">
          <!-- Juego de Memoria -->
          <div class="tab-pane active" id="memory-tab">
            <h3>Juego de Memoria Sanitaria</h3>
            <p>
              Mientras esperas, ¡prueba tu memoria con este juego! Encuentra
              todos los pares relacionados con la salud.
            </p>

            <div id="memory-game"></div>
            <div id="game-message"></div>
            <div class="game-buttons">
              <button id="reset-memory-button" class="game-btn">
                Jugar de Nuevo
              </button>
            </div>
          </div>

          <!-- Trivia de Salud -->
          <div class="tab-pane" id="trivia-tab">
            <h3>Trivia de Salud</h3>
            <p>
              Pon a prueba tus conocimientos sobre salud con estas preguntas.
            </p>

            <div id="trivia-container">
              <div class="trivia-score">
                Puntaje: <span id="trivia-score">0</span>
              </div>
              <div class="trivia-question" id="trivia-question"></div>
              <div class="trivia-options" id="trivia-options"></div>
              <div class="trivia-feedback" id="trivia-feedback"></div>
              <div class="trivia-explanation" id="trivia-explanation"></div>
              <div class="game-buttons">
                <button id="next-question-button" class="game-btn">
                  Siguiente Pregunta
                </button>
                <button id="reset-trivia-button" class="game-btn">
                  Reiniciar Trivia
                </button>
              </div>
            </div>
          </div>

          <!-- Rompecabezas Deslizante -->
          <div class="tab-pane" id="puzzle-tab">
            <h3>Rompecabezas Deslizante</h3>
            <p>Organiza los números en orden deslizando las piezas.</p>

            <div id="puzzle-container"></div>
            <div id="puzzle-moves">
              Movimientos: <span id="moves-count">0</span>
            </div>
            <div id="puzzle-message"></div>
            <div class="game-buttons">
              <button id="reset-puzzle-button" class="game-btn">
                Reiniciar Rompecabezas
              </button>
            </div>
          </div>

          <!-- Dibujo Libre -->
          <div class="tab-pane" id="drawing-tab">
            <h3>Lienzo de Dibujo</h3>
            <p>Libera tu creatividad con este simple lienzo de dibujo.</p>

            <div id="canvas-container">
              <canvas id="drawing-canvas"></canvas>
              <div class="drawing-controls">
                <div
                  class="color-option color-black active"
                  data-color="#222"
                ></div>
                <div class="color-option color-red" data-color="#e74c3c"></div>
                <div class="color-option color-blue" data-color="#3498db"></div>
                <div
                  class="color-option color-green"
                  data-color="#2ecc71"
                ></div>
                <div
                  class="color-option color-yellow"
                  data-color="#f1c40f"
                ></div>
                <div
                  class="color-option color-purple"
                  data-color="#9b59b6"
                ></div>

                <div class="brush-size">
                  <label for="brush-slider">Tamaño: </label>
                  <input
                    type="range"
                    id="brush-slider"
                    min="1"
                    max="20"
                    value="5"
                  />
                </div>

                <button id="clear-canvas" class="game-btn">Limpiar</button>
              </div>
            </div>
          </div>
        </div>
      </section>

      <section class="newsletter">
        <h3>Mantente Informado</h3>
        <p>
          Regístrate para recibir notificaciones cuando la plataforma esté
          disponible.
        </p>

        <form id="notify-form">
          <div class="form-group">
            <input type="email" placeholder="Tu correo electrónico" required />
            <button type="submit">Suscribirse</button>
          </div>
          <p class="privacy">
            Tu información está segura con nosotros. No compartimos tus datos
            con terceros.
          </p>
        </form>

        <div class="social-links">
          <a href="#" aria-label="Facebook"
            ><i class="fab fa-facebook-f"></i
          ></a>
          <a href="#" aria-label="Twitter"><i class="fab fa-twitter"></i></a>
          <a href="#" aria-label="Instagram"
            ><i class="fab fa-instagram"></i
          ></a>
          <a href="#" aria-label="LinkedIn"
            ><i class="fab fa-linkedin-in"></i
          ></a>
        </div>
      </section>
    </main>

    <footer>
      <div class="container footer-content">
        <div class="footer-text">
          <p>
            INFOGES Curicó es una plataforma dedicada a mejorar la gestión de
            metas sanitarias en la región a través de herramientas digitales
            innovadoras.
          </p>
          <p>Servicio de Salud Curicó - Dirección: Carmen N°560, Curicó</p>
        </div>

        <div class="footer-links">
          <a href="#">Sobre Nosotros</a>
          <a href="#">Contacto</a>
          <a href="#">Términos y Condiciones</a>
          <a href="#">Política de Privacidad</a>
        </div>

        <p class="copyright">
          &copy; 2025 INFOGES Curicó. Todos los derechos reservados.
        </p>
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fas fa-arrow-up"></i>
    </div>

    <div class="toast-container"></div>

    <script>
      // Esperar a que todo el contenido esté cargado
      document.addEventListener("DOMContentLoaded", function () {
        // Ocultar pantalla de carga después de cargar la página
        setTimeout(function () {
          document.querySelector(".loader").classList.add("loader-hidden");
        }, 1000);

        // Inicializar todos los componentes
        initCountdown();
        initTabs();
        initMemoryGame();
        initTrivia();
        initPuzzle();
        initDrawingCanvas();
        initBackToTop();

        // Inicializar formulario
        document
          .getElementById("notify-form")
          .addEventListener("submit", function (e) {
            e.preventDefault();
            const email = this.querySelector('input[type="email"]').value;
            showToast(
              `Te notificaremos en ${email} cuando la plataforma esté disponible.`,
              "success"
            );
            this.reset();
          });
      });

      // Sistema de Notificaciones Toast
      function showToast(message, type = "info") {
        const toastContainer = document.querySelector(".toast-container");

        // Crear elemento toast
        const toast = document.createElement("div");
        toast.classList.add("toast", `toast-${type}`);

        // Icono según tipo
        let icon = "info-circle";
        if (type === "success") icon = "check-circle";
        if (type === "error") icon = "exclamation-circle";

        // Contenido del toast
        toast.innerHTML = `
                <span class="toast-icon"><i class="fas fa-${icon}"></i></span>
                <span class="toast-message">${message}</span>
                <button class="toast-close"><i class="fas fa-times"></i></button>
            `;

        // Añadir al contenedor
        toastContainer.appendChild(toast);

        // Mostrar con animación
        setTimeout(() => {
          toast.classList.add("show");
        }, 10);

        // Eliminar después de 5 segundos
        setTimeout(() => {
          toast.classList.remove("show");
          setTimeout(() => {
            toast.remove();
          }, 300);
        }, 5000);

        // Cerrar al hacer clic en el botón
        toast.querySelector(".toast-close").addEventListener("click", () => {
          toast.classList.remove("show");
          setTimeout(() => {
            toast.remove();
          }, 300);
        });
      }

      // Sistema de Pestañas
      function initTabs() {
        const tabButtons = document.querySelectorAll(".tab-btn");

        tabButtons.forEach((button) => {
          button.addEventListener("click", () => {
            // Quitar clase active de todos los botones y paneles
            document
              .querySelectorAll(".tab-btn")
              .forEach((btn) => btn.classList.remove("active"));
            document
              .querySelectorAll(".tab-pane")
              .forEach((pane) => pane.classList.remove("active"));

            // Agregar clase active al botón clickeado
            button.classList.add("active");

            // Mostrar el panel correspondiente
            const tabId = button.getAttribute("data-tab");
            document.getElementById(`${tabId}-tab`).classList.add("active");
          });
        });
      }

      // Cuenta regresiva real
      function initCountdown() {
        // Fecha objetivo (calcular dinámicamente desde ahora)
        const now = new Date();
        // Lanzamiento en 5 días a partir de hoy a las 10:00 AM
        const targetDate = new Date(now);
        targetDate.setDate(now.getDate() + 2);
        targetDate.setHours(10, 0, 0, 0);

        function updateCountdown() {
          const now = new Date();
          const diff = targetDate - now;

          // Si ya pasó la fecha, mostrar ceros
          if (diff <= 0) {
            document.getElementById("days").textContent = "00";
            document.getElementById("hours").textContent = "00";
            document.getElementById("minutes").textContent = "00";
            document.getElementById("seconds").textContent = "00";
            return;
          }

          // Cálculos para días, horas, minutos, segundos
          const days = Math.floor(diff / (1000 * 60 * 60 * 24));
          const hours = Math.floor(
            (diff % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60)
          );
          const minutes = Math.floor((diff % (1000 * 60 * 60)) / (1000 * 60));
          const seconds = Math.floor((diff % (1000 * 60)) / 1000);

          // Formatear con ceros a la izquierda
          const format = (num) => (num < 10 ? `0${num}` : num);

          // Actualizar el DOM con efecto de animación
          updateCounterElement("days", format(days));
          updateCounterElement("hours", format(hours));
          updateCounterElement("minutes", format(minutes));
          updateCounterElement("seconds", format(seconds));
        }

        function updateCounterElement(id, newValue) {
          const element = document.getElementById(id);
          if (element.textContent !== newValue) {
            element.textContent = newValue;

            // Efecto de animación
            element.style.transform = "translateY(-10px)";
            element.style.opacity = "0";

            setTimeout(() => {
              element.style.transition = "transform 0.5s, opacity 0.5s";
              element.style.transform = "translateY(0)";
              element.style.opacity = "1";
            }, 50);

            setTimeout(() => {
              element.style.transition = "";
            }, 500);
          }
        }

        // Actualizar cada segundo
        setInterval(updateCountdown, 1000);
        updateCountdown(); // Ejecutar inmediatamente para evitar retraso
      }

      // Juego de Memoria
      function initMemoryGame() {
        const gameContainer = document.getElementById("memory-game");
        const gameMessage = document.getElementById("game-message");
        const resetButton = document.getElementById("reset-memory-button");

        // Iconos de salud para el juego (ampliados)
        const healthIcons = [
          "fa-heartbeat",
          "fa-stethoscope",
          "fa-hospital",
          "fa-prescription-bottle-alt",
          "fa-pills",
          "fa-syringe",
          "fa-first-aid",
          "fa-user-md",
        ];

        // Duplicar para crear pares
        const icons = [...healthIcons, ...healthIcons];
        let flippedCards = [];
        let matchedPairs = 0;
        let isProcessing = false;

        // Función para mezclar array (algoritmo Fisher-Yates)
        function shuffle(array) {
          for (let i = array.length - 1; i > 0; i--) {
            const j = Math.floor(Math.random() * (i + 1));
            [array[i], array[j]] = [array[j], array[i]];
          }
          return array;
        }

        // Inicializar juego
        function initGame() {
          gameContainer.innerHTML = "";
          gameMessage.textContent = "";
          resetButton.style.display = "none";
          matchedPairs = 0;
          flippedCards = [];
          isProcessing = false;

          const shuffledIcons = shuffle([...icons]);

          shuffledIcons.forEach((icon, index) => {
            const card = document.createElement("div");
            card.classList.add("memory-card");
            card.dataset.icon = icon;

            const front = document.createElement("div");
            front.classList.add("front");

            const back = document.createElement("div");
            back.classList.add("back");
            back.innerHTML = `<i class="fas ${icon}"></i>`;

            card.appendChild(front);
            card.appendChild(back);

            card.addEventListener("click", flipCard);

            // Añadir con un pequeño retraso para efecto visual
            setTimeout(() => {
              gameContainer.appendChild(card);
            }, index * 50);
          });
        }

        // Voltear carta
        function flipCard() {
          if (isProcessing) return;
          if (flippedCards.length >= 2) return;
          if (this.classList.contains("flipped")) return;

          this.classList.add("flipped");
          flippedCards.push(this);

          if (flippedCards.length === 2) {
            isProcessing = true;
            setTimeout(checkMatch, 700);
          }
        }

        // Comprobar coincidencia
        function checkMatch() {
          const [card1, card2] = flippedCards;

          if (card1.dataset.icon === card2.dataset.icon) {
            // Coincidencia
            card1.removeEventListener("click", flipCard);
            card2.removeEventListener("click", flipCard);
            matchedPairs++;

            // Efecto visual para las coincidencias
            card1.classList.add("matched");
            card2.classList.add("matched");

            if (matchedPairs === healthIcons.length) {
              gameMessage.textContent =
                "¡Felicidades! Has encontrado todos los pares.";
              resetButton.style.display = "inline-block";
            }
          } else {
            // No coinciden, voltear de nuevo
            card1.classList.remove("flipped");
            card2.classList.remove("flipped");
          }

          flippedCards = [];
          isProcessing = false;
        }

        // Reiniciar juego
        resetButton.addEventListener("click", initGame);

        // Iniciar juego
        initGame();
      }

      // Trivia de Salud
      function initTrivia() {
        const triviaQuestion = document.getElementById("trivia-question");
        const triviaOptions = document.getElementById("trivia-options");
        const triviaFeedback = document.getElementById("trivia-feedback");
        const triviaExplanation = document.getElementById("trivia-explanation");
        const triviaScore = document.getElementById("trivia-score");
        const nextButton = document.getElementById("next-question-button");
        const resetButton = document.getElementById("reset-trivia-button");

        // Preguntas de trivia sobre salud
        const triviaData = [
          {
            question: "¿Cuál es la principal función de los glóbulos rojos?",
            options: [
              "Combatir infecciones",
              "Transportar oxígeno",
              "Coagular la sangre",
              "Producir anticuerpos",
            ],
            correct: 1,
            explanation:
              "Los glóbulos rojos (eritrocitos) contienen hemoglobina, que les permite transportar oxígeno desde los pulmones a todos los tejidos del cuerpo y llevar dióxido de carbono de vuelta a los pulmones.",
          },
          {
            question: "¿Cuál de estas enfermedades NO es causada por un virus?",
            options: ["Influenza", "Tuberculosis", "Hepatitis A", "Varicela"],
            correct: 1,
            explanation:
              "La tuberculosis es causada por una bacteria llamada Mycobacterium tuberculosis, no por un virus. Las otras opciones (influenza, hepatitis A y varicela) son enfermedades virales.",
          },
          {
            question:
              "¿Qué vitamina se produce en la piel cuando nos exponemos al sol?",
            options: ["Vitamina A", "Vitamina C", "Vitamina D", "Vitamina E"],
            correct: 2,
            explanation:
              "La vitamina D se produce en la piel cuando nos exponemos a la luz solar. Los rayos UVB convierten un compuesto derivado del colesterol en vitamina D3, esencial para la salud ósea.",
          },
          {
            question: "¿Cuál es el órgano más grande del cuerpo humano?",
            options: ["Hígado", "Cerebro", "Pulmones", "Piel"],
            correct: 3,
            explanation:
              "La piel es el órgano más grande del cuerpo humano. En un adulto promedio, la piel tiene una superficie de aproximadamente 2 metros cuadrados y representa alrededor del 15% del peso corporal total.",
          },
          {
            question: "¿Qué parte del cuerpo humano contiene más bacterias?",
            options: ["Intestino", "Boca", "Piel", "Nariz"],
            correct: 0,
            explanation:
              "El intestino, especialmente el colon, contiene la mayor cantidad de bacterias en el cuerpo humano. Se estima que hay más bacterias en nuestro intestino que células en todo nuestro cuerpo, formando lo que se conoce como microbiota intestinal.",
          },
          {
            question:
              "¿Cuál es una medida efectiva para prevenir enfermedades cardiovasculares?",
            options: [
              "Consumir más carbohidratos refinados",
              "Reducir la actividad física",
              "Realizar ejercicio regular",
              "Aumentar el consumo de grasas saturadas",
            ],
            correct: 2,
            explanation:
              "Realizar ejercicio regular es una medida efectiva para prevenir enfermedades cardiovasculares. La actividad física fortalece el corazón, mejora la circulación, reduce la presión arterial y ayuda a mantener un peso saludable.",
          },
          {
            question:
              "¿Cuántas horas de sueño se recomienda para un adulto promedio?",
            options: ["4-5 horas", "5-6 horas", "7-9 horas", "10-12 horas"],
            correct: 2,
            explanation:
              "La mayoría de los adultos necesitan entre 7 y 9 horas de sueño cada noche para funcionar óptimamente. El sueño insuficiente está asociado con problemas de salud como obesidad, diabetes, enfermedades cardiovasculares y depresión.",
          },
          {
            question:
              "¿Cuál de estas NO es una enfermedad crónica no transmisible?",
            options: [
              "Diabetes tipo 2",
              "Tuberculosis",
              "Hipertensión arterial",
              "Enfermedad cardíaca",
            ],
            correct: 1,
            explanation:
              "La tuberculosis es una enfermedad infecciosa causada por bacterias, por lo que se clasifica como transmisible. Las otras opciones (diabetes tipo 2, hipertensión arterial y enfermedad cardíaca) son enfermedades crónicas no transmisibles.",
          },
        ];

        let currentQuestion = 0;
        let score = 0;
        let hasAnswered = false;

        // Mostrar pregunta
        function displayQuestion() {
          const question = triviaData[currentQuestion];
          hasAnswered = false;

          // Mostrar pregunta
          triviaQuestion.textContent = question.question;

          // Limpiar opciones anteriores
          triviaOptions.innerHTML = "";

          // Mostrar opciones
          question.options.forEach((option, index) => {
            const optionElement = document.createElement("button");
            optionElement.classList.add("trivia-option");
            optionElement.textContent = option;
            optionElement.dataset.index = index;
            optionElement.addEventListener("click", checkAnswer);
            triviaOptions.appendChild(optionElement);
          });

          // Limpiar feedback y explicación
          triviaFeedback.textContent = "";
          triviaExplanation.style.display = "none";
          triviaExplanation.textContent = "";

          // Controlar visibilidad de botones
          nextButton.style.display = "none";
          resetButton.style.display = currentQuestion > 0 ? "block" : "none";
        }

        // Comprobar respuesta
        function checkAnswer() {
          if (hasAnswered) return;

          hasAnswered = true;
          const selectedOption = parseInt(this.dataset.index);
          const correctOption = triviaData[currentQuestion].correct;

          // Marcar opciones correctas e incorrectas
          document
            .querySelectorAll(".trivia-option")
            .forEach((option, index) => {
              option.disabled = true;

              if (index === correctOption) {
                option.classList.add("correct");
              }

              if (
                index === selectedOption &&
                selectedOption !== correctOption
              ) {
                option.classList.add("incorrect");
              }
            });

          // Mostrar feedback y explicación
          if (selectedOption === correctOption) {
            triviaFeedback.textContent = "¡Correcto!";
            triviaFeedback.style.color = "var(--accent-color)";
            score++;
            triviaScore.textContent = score;
          } else {
            triviaFeedback.textContent = "Incorrecto";
            triviaFeedback.style.color = "var(--danger-color)";
          }

          // Mostrar explicación
          triviaExplanation.textContent =
            triviaData[currentQuestion].explanation;
          triviaExplanation.style.display = "block";

          // Mostrar botón de siguiente
          if (currentQuestion < triviaData.length - 1) {
            nextButton.style.display = "block";
          } else {
            triviaFeedback.textContent = `¡Juego completado! Tu puntaje final es ${score} de ${triviaData.length}`;
            nextButton.style.display = "none";
          }
        }

        // Siguiente pregunta
        nextButton.addEventListener("click", () => {
          currentQuestion++;
          if (currentQuestion < triviaData.length) {
            displayQuestion();
          }
        });

        // Reiniciar trivia
        resetButton.addEventListener("click", () => {
          currentQuestion = 0;
          score = 0;
          triviaScore.textContent = "0";
          displayQuestion();
        });

        // Mezclar preguntas al inicio
        triviaData.sort(() => Math.random() - 0.5);

        // Iniciar trivia
        displayQuestion();
      }

      // Rompecabezas Deslizante
      function initPuzzle() {
        const puzzleContainer = document.getElementById("puzzle-container");
        const movesCount = document.getElementById("moves-count");
        const puzzleMessage = document.getElementById("puzzle-message");
        const resetButton = document.getElementById("reset-puzzle-button");

        const size = 3; // Tablero 3x3
        let tiles = [];
        let emptyPos = { x: size - 1, y: size - 1 };
        let moves = 0;
        let isShuffling = false;

        // Crear rompecabezas
        function createPuzzle() {
          puzzleContainer.innerHTML = "";
          moves = 0;
          movesCount.textContent = "0";
          puzzleMessage.textContent = "";

          // Creamos las fichas ordenadas
          tiles = Array.from({ length: size * size - 1 }, (_, i) => i + 1);
          tiles.push(0); // La última posición es la vacía (valor 0)

          // Crear elementos visuales
          for (let y = 0; y < size; y++) {
            for (let x = 0; x < size; x++) {
              const index = y * size + x;
              const value = tiles[index];

              if (value !== 0) {
                const tile = document.createElement("div");
                tile.classList.add("puzzle-tile");
                tile.textContent = value;

                // Posición en la cuadrícula
                tile.style.left = `${x * (100 / size)}%`;
                tile.style.top = `${y * (100 / size)}%`;
                tile.style.width = `${100 / size}%`;
                tile.style.height = `${100 / size}%`;

                // Datos para el manejo del movimiento
                tile.dataset.x = x;
                tile.dataset.y = y;
                tile.dataset.value = value;

                // Evento de clic
                tile.addEventListener("click", () => moveTile(x, y));

                puzzleContainer.appendChild(tile);
              } else {
                // Marcar la posición vacía
                emptyPos = { x, y };
              }
            }
          }

          // Mezclar las fichas
          shufflePuzzle();
        }

        // Mezclar el rompecabezas
        function shufflePuzzle() {
          isShuffling = true;
          let shuffleMoves = 100; // Número de movimientos aleatorios

          // Función para hacer un movimiento aleatorio
          function makeRandomMove() {
            if (shuffleMoves <= 0) {
              isShuffling = false;
              moves = 0;
              movesCount.textContent = "0";
              return;
            }

            // Posibles direcciones: arriba, derecha, abajo, izquierda
            const directions = [
              { x: 0, y: -1 }, // arriba
              { x: 1, y: 0 }, // derecha
              { x: 0, y: 1 }, // abajo
              { x: -1, y: 0 }, // izquierda
            ];

            // Filtrar direcciones válidas
            const validDirections = directions.filter((dir) => {
              const newX = emptyPos.x + dir.x;
              const newY = emptyPos.y + dir.y;
              return newX >= 0 && newX < size && newY >= 0 && newY < size;
            });

            if (validDirections.length > 0) {
              // Elegir una dirección aleatoria
              const randomDir =
                validDirections[
                  Math.floor(Math.random() * validDirections.length)
                ];
              const tileX = emptyPos.x + randomDir.x;
              const tileY = emptyPos.y + randomDir.y;

              // Mover la ficha
              moveTile(tileX, tileY, false);

              shuffleMoves--;
              setTimeout(makeRandomMove, 5); // Pequeño retraso para evitar bloqueo
            } else {
              shuffleMoves = 0;
              isShuffling = false;
            }
          }

          makeRandomMove();
        }

        // Mover una ficha
        function moveTile(x, y, updateMoves = true) {
          if (isShuffling && updateMoves) return;

          // Verificar si es adyacente al espacio vacío
          const isAdjacent =
            (Math.abs(x - emptyPos.x) === 1 && y === emptyPos.y) ||
            (Math.abs(y - emptyPos.y) === 1 && x === emptyPos.x);

          if (!isAdjacent) return;

          // Encontrar la ficha a mover
          const tile = document.querySelector(
            `.puzzle-tile[data-x="${x}"][data-y="${y}"]`
          );
          if (!tile) return;

          // Actualizar posición visual
          tile.style.left = `${emptyPos.x * (100 / size)}%`;
          tile.style.top = `${emptyPos.y * (100 / size)}%`;

          // Actualizar datos de posición
          tile.dataset.x = emptyPos.x;
          tile.dataset.y = emptyPos.y;

          // Actualizar estado interno
          const tileIndex = y * size + x;
          const emptyIndex = emptyPos.y * size + emptyPos.x;

          // Intercambiar posiciones
          [tiles[tileIndex], tiles[emptyIndex]] = [
            tiles[emptyIndex],
            tiles[tileIndex],
          ];

          // Actualizar posición vacía
          emptyPos = { x, y };

          // Actualizar contador de movimientos
          if (updateMoves) {
            moves++;
            movesCount.textContent = moves;

            // Verificar si se ha completado el rompecabezas
            checkWin();
          }
        }

        // Verificar si se ha completado el rompecabezas
        function checkWin() {
          // El rompecabezas está resuelto si las fichas están en orden 1,2,3,...,0
          const isSolved = tiles.every((tile, index) => {
            // La última posición debe ser 0 (vacía)
            if (index === size * size - 1) {
              return tile === 0;
            }
            // El resto deben ser index + 1
            return tile === index + 1;
          });

          if (isSolved) {
            puzzleMessage.textContent = `¡Felicidades! Has completado el rompecabezas en ${moves} movimientos.`;
            showToast("¡Rompecabezas completado!", "success");
          }
        }

        // Reiniciar rompecabezas
        resetButton.addEventListener("click", createPuzzle);

        // Iniciar rompecabezas
        createPuzzle();
      }

      // Lienzo de Dibujo
      function initDrawingCanvas() {
        const canvas = document.getElementById("drawing-canvas");
        const ctx = canvas.getContext("2d");
        const clearButton = document.getElementById("clear-canvas");
        const colorOptions = document.querySelectorAll(".color-option");
        const brushSlider = document.getElementById("brush-slider");

        let isDrawing = false;
        let lastX = 0;
        let lastY = 0;
        let currentColor = "#222";
        let brushSize = 5;

        // Ajustar tamaño del canvas
        function resizeCanvas() {
          const containerWidth = canvas.parentElement.clientWidth;
          canvas.width = containerWidth;
          canvas.height = 300;

          // Reiniciar contexto después de redimensionar
          ctx.lineCap = "round";
          ctx.lineJoin = "round";
          ctx.strokeStyle = currentColor;
          ctx.lineWidth = brushSize;
        }

        // Eventos de ratón/táctil
        function startDrawing(e) {
          isDrawing = true;
          [lastX, lastY] = getCoordinates(e);
        }

        function draw(e) {
          if (!isDrawing) return;

          const [x, y] = getCoordinates(e);

          ctx.beginPath();
          ctx.moveTo(lastX, lastY);
          ctx.lineTo(x, y);
          ctx.stroke();

          [lastX, lastY] = [x, y];
        }

        function stopDrawing() {
          isDrawing = false;
        }

        // Obtener coordenadas según tipo de evento
        function getCoordinates(e) {
          let x, y;

          if (e.type.includes("touch")) {
            x = e.touches[0].clientX - canvas.getBoundingClientRect().left;
            y = e.touches[0].clientY - canvas.getBoundingClientRect().top;
          } else {
            x = e.offsetX;
            y = e.offsetY;
          }

          return [x, y];
        }

        // Cambiar color
        colorOptions.forEach((option) => {
          option.addEventListener("click", function () {
            // Quitar clase active de todas las opciones
            colorOptions.forEach((opt) => opt.classList.remove("active"));

            // Añadir clase active a la opción seleccionada
            this.classList.add("active");

            // Cambiar color
            currentColor = this.getAttribute("data-color");
            ctx.strokeStyle = currentColor;
          });
        });

        // Cambiar tamaño del pincel
        brushSlider.addEventListener("input", function () {
          brushSize = this.value;
          ctx.lineWidth = brushSize;
        });

        // Limpiar canvas
        clearButton.addEventListener("click", function () {
          ctx.clearRect(0, 0, canvas.width, canvas.height);
        });

        // Añadir eventos
        canvas.addEventListener("mousedown", startDrawing);
        canvas.addEventListener("mousemove", draw);
        canvas.addEventListener("mouseup", stopDrawing);
        canvas.addEventListener("mouseout", stopDrawing);

        // Soporte táctil
        canvas.addEventListener("touchstart", startDrawing);
        canvas.addEventListener("touchmove", draw);
        canvas.addEventListener("touchend", stopDrawing);

        // Prevenir scroll al dibujar en dispositivos táctiles
        canvas.addEventListener(
          "touchmove",
          function (e) {
            if (isDrawing) {
              e.preventDefault();
            }
          },
          { passive: false }
        );

        // Ajustar tamaño inicialmente y al redimensionar
        window.addEventListener("resize", resizeCanvas);
        resizeCanvas();
      }

      // Botón para ir arriba
      function initBackToTop() {
        const backToTopButton = document.querySelector(".back-to-top");

        // Mostrar/ocultar botón según scroll
        window.addEventListener("scroll", function () {
          if (window.scrollY > 300) {
            backToTopButton.classList.add("visible");
          } else {
            backToTopButton.classList.remove("visible");
          }
        });

        // Ir arriba al hacer clic
        backToTopButton.addEventListener("click", function () {
          window.scrollTo({
            top: 0,
            behavior: "smooth",
          });
        });
      }

      // Patrón de fondo
      function createDiamondPattern() {
        const canvas = document.createElement("canvas");
        const ctx = canvas.getContext("2d");

        // Tamaño del patrón
        canvas.width = 100;
        canvas.height = 100;

        // Color de fondo
        ctx.fillStyle = "#f1f8e9";
        ctx.fillRect(0, 0, 100, 100);

        // Dibujar patrón
        ctx.strokeStyle = "#d5e8d4";
        ctx.lineWidth = 1;

        // Patrón de rombos
        for (let i = -100; i < 200; i += 20) {
          ctx.beginPath();
          ctx.moveTo(i, 0);
          ctx.lineTo(i + 100, 100);
          ctx.stroke();

          ctx.beginPath();
          ctx.moveTo(i, 100);
          ctx.lineTo(i + 100, 0);
          ctx.stroke();
        }

        // Pequeños círculos en intersecciones
        ctx.fillStyle = "#e8f5e9";
        for (let x = 0; x < 100; x += 20) {
          for (let y = 0; y < 100; y += 20) {
            ctx.beginPath();
            ctx.arc(x, y, 2, 0, Math.PI * 2);
            ctx.fill();
          }
        }

        return `url(${canvas.toDataURL("image/png")})`;
      }

      // Aplicar patrón de fondo
      document.querySelector(".pattern-bg").style.backgroundImage =
        createDiamondPattern();
    </script>
  </body>
</html>
